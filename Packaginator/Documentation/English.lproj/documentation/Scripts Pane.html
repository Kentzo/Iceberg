<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><HEAD><TITLE>Defining Installation Requirements and Scripts</TITLE></HEAD><BODY BGCOLOR="#FFFFFF" LINK ="#364AFF"><font face="Geneva,Helvetica,Arial" size="1"><B>PATH</B> <A HREF="index.html" style="text-decoration:none">Contents</A> &gt; Defining Installation Requirements and Scripts</FONT><HR><FONT SIZE=6 COLOR="#466AFF"><B>Defining Installation Requirements and Scripts</B></FONT><BR><P>This document describes the Requirements and Installation Scripts that can be defined to check if a component can be installed on the machine or a specific volume and which scripts shall be run before and after the installation of the files of the component.</P><P>Finally, this document describes how to add resources, for instance used by an Installation Script, in a component.</P><A NAME="1"><FONT SIZE=4 COLOR="#466AFF"><B>Managing Installation Requirements</B></FONT></A><P>By default, when you install a component, it can be installed on any Macintosh running Mac OS X and on any of its partitions (as long as the option <A HREF="Settings Pane.html#RootVolumeOnly" style="text-decoration:none">Root Volume Only</A> is not enabled).</P><P>Installation Requirements can be used to decide if a component can be installed with the currently running operating system and installed applications or on which partition.</P><P>There are two possible levels for a Requirement:<UL><LI><B>Requires</B>: when a Requirement has a Requires level and is not fulfilled, installation will be prohibited .<P></P></LI><LI><B>Recommends</B>:when a Requirement has a Recommends level and is not fulfilled, installation will be allowed but a warning message will be displayed.</LI></UL></P><P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Important</B>:Requirements are only checked by <I>Installer</I> on Mac OS X 10.3 and later. If you need to check things on previous Mac OS X releases, you will want to use <I>InstallationCheck</I> or <I>VolumeCheck</I> scripts.</FONT></TD></TR></TABLE></TD></TR></TABLE></P><IMG SRC="images/US_SCRIPTS_Requirements1.gif" ALT=""><P><B>To add an installation requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Configure the Requirement.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To edit an installation requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the Requirement in the list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click Edit&#133; in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Modify the Requirement.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To remove an installation requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the Requirements to be removed.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click - in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Click Remove.</TD></TR></TABLE></P><P><B>To enable or disable an Installation Requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the Requirement.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Select or unselect the checkbox in the MemberShip (&#x95;) column.</TD></TR></TABLE></P><P><B>To change the level of an installation requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the Requirement.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Choose the level from the pop-up menu in the Level column.</TD></TR></TABLE></P><A NAME="2"><FONT SIZE=4 COLOR="#466AFF"><B>Configuring Installation Requirements</B></FONT></A><P>There are two kinds of Requirement. Those evaluated at the very beginning of the installation and which decide whether the installation is allowed on the current operating system or not. And those evaluated during the <I>Select Destination</I> step and which decide whether the installation can be performed or not on a specific available partition.</P><P>Here is the description of Requirements supported by Iceberg:<UL><LI><B>Package</B>&nbsp;: this type of requirement checks for the presence of a component within a metapackage and the value for a key of the <I>Info.plist</I> of the package. It can only be defined for a metapackage.<P></P></LI><LI><B>Gestalt</B>&nbsp;: this type of requirement can check the value of a gestalt system property.<P></P></LI><LI><B>sysctl</B>&nbsp;: this type of requirement can check the value of a sysctl system property.<P></P></LI><LI><B>Bundle</B>&nbsp;: this type of requirement checks the presence of a bundle on a partition and optionally the value associated to a key of the <I>Info.plist</I> file of the bundle.<P></P></LI><LI><B>File</B>&nbsp;: this type of requirement checks the presence of a file on a partition and optionally the value associated to one the file attributes. <P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: The file attributes are the same as the ones of the <A HREF="http://developer.apple.com/documentation/Cocoa/Reference/Foundation/ObjC_classic/Classes/NSFileManager.html#//apple_ref/occ/cl/NSFileManager" style="text-decoration:none">NSFileManager</A> API.</FONT></TD></TR></TABLE></TD></TR></TABLE></P></LI><LI><B>Property List</B>&nbsp;: this type of Requirement checks the value associated to a key of a Property List file on a partition.</LI></UL></P><P>A Requirement is defined by the following items:<UL><LI><B>Label</B>: this is the name assigned to the Requirement which allows to spot it in the list of Requirements.<P></P></LI><LI><B>Level</B>: the level tells whether the Requirement is an absolute requirement or a recommendation.<P></P></LI><LI><B>Specification</B>: thisis the description of the test the Requirement needs to fulfil.Each kind of Requirement has its own specification model.<P></P></LI><LI><B>Title</B>: this is the title of the alert message which will be displayed if the Requirement is not fulfilled.<P></P></LI><LI><B>Message</B>: this is the message of the alert message which will be displayed if the Requirement is not fulfilled.<P></P></LI></UL><IMG SRC="images/US_SCRIPTS_Requirements2.gif" ALT=""><P><B>To add a Package requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the metapackage in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type the label of the Requirement in the Label text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the level from the Level pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose Package from the pop-up menu in the upper left corner of the Specificaiton section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Type the Bundle Identifier (<I>CFBundleIdentifier</I>) of the package in the Bundle Identifier text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Choose the <I>Info.plist</I> file key from the key pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Choose the comparator method from the comparator pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Type the comparison value in the text field in the lower right corner of the Specification section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Type the title of the alert in the Title text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Type the message of the alert in the Message text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">13</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To add a Gestalt requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the metapackage in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type the label of the Requirement in the Label text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the level from the Level pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose Gestalt from the pop-up menu in the upper left corner of the Specificaiton section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Type the Gestalt identifier in the text field or choose it from the pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Choose the comparator method from the comparator pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Type the comparison value in the text field in the lower right corner of the Specification section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Type the title of the alert in the Title text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Type the message of the alert in the Message text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To add a sysctl requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type the label of the Requirement in the Label text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the level from the Level pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose sysctl from the pop-up menu in the upper left corner of the Specificaiton section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Type the sysctl identifier or choose one from the pop-up menu.<P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: The full list of sysctl identifiers can be displayed by running <code>sysctl -a</code> in <I>Terminal</I>.</FONT></TD></TR></TABLE></TD></TR></TABLE></P></TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Choose the comparator method from the comparator pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Type the comparison value in the text field in the lower right corner of the Specification section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Type the title of the alert in the Title text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Type the message of the alert in the Message text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To add a Bundle requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type the label of the Requirement in the Label text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the level from the Level pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose Bundle from the pop-up menu in the upper left corner of the Specificaiton section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Choose &quot;doesn't exist&quot; from the location pop-up menu to check for the absence of the bundle or &quot;located&quot; to check the value for a key of the bundle <I>Info.plist</I> file.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Type the absolute path name to the bundle in the location texte field and go to step 12 if you have chosen &quot;doesn't exist&quot;.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Choose the <I>Info.plist</I> key in the key pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Choose the comparator method from the comparator pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Type the comparison value in the text field in the lower right corner of the Specification section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Type the title of the alert in the Title text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">13</FONT></TD><TD>Type the message of the alert in the Message text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">14</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To add a file requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type the label of the Requirement in the Label text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the level from the Level pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose File from the pop-up menu in the upper left corner of the Specificaiton section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Choose &quot;doesn't exist&quot; from the location pop-up menu to check for the absence of the file or &quot;located&quot; to check an attribute of the file.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Type the absolute path name to the file in the location text field and go to step 12 if you have chosen &quot;doesn't exist&quot;.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Choose the file attribute from the attribute pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Choose the comparator method from the comparator pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Type the comparison value in the text field in the lower right corner of the Specification section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Type the title of the alert in the Title text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">13</FONT></TD><TD>Type the message of the alert in the Message text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">14</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To add a Property List requirement:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type the label of the Requirement in the Label text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the level from the Level pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose Property List from the pop-up menu in the upper left corner of the Specificaiton section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Type the absolute path name to the Property List in the location text field</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Choose the value kind from the type po-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Choose the Property List key from the key pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Choose the comparator method from the comparator pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Type the comparison value in the text field in the lower right corner of the Specification section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Type the title of the alert in the Title text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">13</FONT></TD><TD>Type the message of the alert in the Message text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">14</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To add an alert localization:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the requirement in the Requirements list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click Edit&#133; in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose Add Localization&#133; from the localization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>TYpe the name of the localization and click Add.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Type the localized title of the alert in the Title text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Type the localized message of the alert in the Message text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To change an alert localization:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the requirement in the Requirements list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click Edit&#133; in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the localization from the localization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Change the alert title or message.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><P><B>To remove an alert localization:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the requirement in the Requirements list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click Edit&#133; in the Requirements section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose the localization to be removed from the localization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose Remove&#133; from the localization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Click Remove.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Click OK.</TD></TR></TABLE></P><A NAME="3"><FONT SIZE=4 COLOR="#466AFF"><B>Defining Installation Scripts</B></FONT></A><P>By default, when a component is installed, no tasks is peformed before or after the installation. If needed, you can define scripts (for instance <code>shell</code> or <code>perl</code> scripts) that will be executed before or after the installation.</P><P>You can define six types of scripts:<UL><LI><B>preflight</B>&nbsp;: the preflight script is run before files are being installed. If the script does not return 0, <I>Installer</I> will cancel the installation.<P></P></LI><LI><B>preinstall</B>&nbsp;: the preinstall script is run before files are being installed and after the preflight script if one is defined. This script is run only if the component is being installed for the first time. If the script does not return 0, <I>Installer</I> will cancel the installation.<P></P></LI><LI><B>preupgrade</B>&nbsp;: the preupgrade script is run before files are being installed and after the preflight script if one is defined. This script is run only if the component has been previously installed. If the script does not return 0, <I>Installer</I> will cancel the installation.<P></P></LI><LI><B>postinstall</B>&nbsp;: the postinstall script is run after files have been installed and before the postfligt script if one is defined. This script is run only if the component is being installed for the first time. If the script does not return 0, <I>Installer</I> will declare the installion failed.<P></P></LI><LI><B>postupgrade</B>&nbsp;: the postinstall script is run after files have been installed and before the postfligt script if one is defined. This script is run only if the component has been previously installed. If the script does not return 0, <I>Installer</I> will declare the installion failed.<P></P></LI><LI><B>postflight</B>&nbsp;: the postflight script is run after files have been installed. If the script does not return 0, <I>Installer</I> will declare the installion failed.</LI></UL><P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Important</B>: <I>InstallationCheck</I> and <I>VolumeCheck</I> scripts are not managed by the Installation Scripts section. If you want to use such script, use the Addtional Resources section.</FONT></TD></TR></TABLE></TD></TR></TABLE></P><IMG SRC="images/US_SCRIPTS_Scripts.gif" ALT=""><P><B>To add an installation script:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the type of script you wish to add in the Installation Scripts list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click Choose&#133; in the Installation Scripts section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Select the file you want to use for this script and click Choose.<P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: By default, the references are absolute path names. You can switch to relative path names using the local menu of the text field.</FONT></TD></TR></TABLE></TD></TR></TABLE></P></TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Select the checkbox of the selected script in the Membership (&#x95;) column.</TD></TR></TABLE></P><P><B>To enable or disable an installation script:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the Installation Script.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Select or unselect the checkbox in the Membership (&#x95;) column.</TD></TR></TABLE></P><A NAME="4"><FONT SIZE=4 COLOR="#466AFF"><B>Adding Additional Resources</B></FONT></A><P>If you wish to use an <I>InstallationCheck</I> or <I>VolumeCheck</I> or one of the Installation Scripts requires additional files, you can add these using the Additional Resources list. By default, they will be added into the <I>Resources</I> folder of the component. If you need it, you can create localized Additional Resources.</P><P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: If you want to use an <I>InstallationCheck</I> or <I>VolumeCheck</I> scripts, add them to the International localization of the Additional Resources. Their permissions will be checked and modified if needed when the component is built.</FONT></TD></TR></TABLE></TD></TR></TABLE></P><IMG SRC="images/US_SCRIPTS_Resources.gif" ALT=""><P><B>To add an additional resource:</B><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Click + in the Additional Resources section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Select the items you want to add and click on Add.<P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: By default, the references are absolute path names. You can switch to relative path names using the local menu in the Reference column.</FONT></TD></TR></TABLE></TD></TR></TABLE></P></TD></TR></TABLE></P><P><B>To remove an additional ressource:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Select the items you want to remove from the list of Additional Resources.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click - in the Additional Resources section.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Click Remove.<P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: Files or folders are not deleted from the disk, only the references in the project are.</FONT></TD></TR></TABLE></TD></TR></TABLE></P></TD></TR></TABLE></P><P><B>To enable or disable an additional resource:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Select the item in the Additional Resources list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Select or unselect the checkbox in the Membership column.</TD></TR></TABLE></P><P><B>To add a Resources localization:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Choose Add Localization&#133; from the localization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type the localization name and click Add.</TD></TR></TABLE></P><P><B>To remove a Resources localization:</B><BR><BR><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the component in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Scripts.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Choose the localization from the localization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Choose Remove&#133; from the localization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD><P>Click Remove.</P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: Files or folders are not deleted from the disk, only the references in the project are.</FONT></TD></TR></TABLE></TD></TR></TABLE></TD></TR></TABLE></P><HR><FONT SIZE="2">Author: <I>St&eacute;phane Sudre</I></FONT></BODY></HTML>