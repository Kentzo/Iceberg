<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd"><HTML><HEAD><TITLE>Creating a metapackage</TITLE></HEAD><BODY BGCOLOR="#FFFFFF" LINK ="#364AFF"><font face="Geneva,Helvetica,Arial" size="1"><B>PATH</B> <A HREF="index.html" style="text-decoration:none">Contents</A> &gt; Creating a metapackage</FONT><HR><FONT SIZE=6 COLOR="#466AFF"><B>Creating a metapackage</B></FONT><BR><P>This document shows how to create a metapackage containing two packages: one to install the <I>Font Book</I> application in the <I>/Applications</I> folder, another one to install fonts in the <I>/Library/Fonts</I> folder.This will let you discover the <A HREF="Settings Pane.html" style="text-decoration:none">Settings</A>, <A HREF="Files Pane.html" style="text-decoration:none">Files</A> and <A HREF="Managing components.html" style="text-decoration:none">Components</A> panes.</P><P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: The <I>Font Book</I> application is available on Mac OS X 10.3 and later. If you are running an older version of Mac OS X, use the <I>TextEdit</I> application instead.</FONT></TD></TR></TABLE></TD></TR></TABLE></TD></TR></TABLE></P><B>Creating a new project</B><P><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Open the Iceberg application.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose File &gt; New Project&#133; .</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Select the Core Templates <I>Metapackage</I> project template and click Next.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type MyMetapackage in the Project name text field and click Finish.</TD></TR></TABLE></P><B>Creating packages</B><P>Managing complex hierarchies of packages and metapackages does not require multiple projects, one is enough.</P><P>Start by creating the first package which will be a required component of the installation and will install the <I>Font Book</I> application:</P><P><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Choose View &gt; Components.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose Project &gt; New Component&#133; .</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Type Font Book in the Component name text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Choose Required from the Attribute pop-up menu and click Add.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Select the new package in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose View &gt; Files.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Click on the disclosure triangle of the <I>/</I> folder to reveal its content.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Select the Applications line.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Choose Archive &gt; Add Files&#133; .</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Go the <I>Applications</I> folder.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Select the <I>Font Book</I> application and click Add.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Choose the reference style from the Reference Style pop-up menu.<P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: The default reference style can be changed in the Preferences dialog.</FONT></TD></TR></TABLE></TD></TR></TABLE></P></TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Click Add.</TD></TR></TABLE></P><P>Then, create the second package which will be installed by default but can be unselected with the Custom Install mode:</P><P><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Choose View &gt; Project.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Files.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Choose Project &gt; New Component&#133; .</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Type Additional Fonts in the Component name text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose Selected from the Attribute pop-up menu and click Add.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Select the new package in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Choose View &gt; Files.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">8</FONT></TD><TD>Click on the disclosure triangle of the <I>/</I> folder to reveal its content.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">9</FONT></TD><TD>Select the Library line.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">10</FONT></TD><TD>Choose Archive &gt; New Folder.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">11</FONT></TD><TD>Type Fonts in the text field.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">12</FONT></TD><TD>Choose Archive &gt; Add Files&#133; .</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">13</FONT></TD><TD>Go to the <I>/Library/Fonts</I> folder.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">14</FONT></TD><TD>Select one or more fonts and click Add.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">15</FONT></TD><TD>Choose the reference style from the Reference Style pop-up menu.<P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: The default reference style can be changed in the Preferences dialog.</FONT></TD></TR></TABLE></TD></TR></TABLE></P></TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">16</FONT></TD><TD>Click Add.</TD></TR></TABLE></P><B>Tweaking packages settings</B><P>Installing items in the <I>/Applications</I> and <I>/Library/Fonts</I> folders requires administrative privileges. You are going to tweak the packages settings so that the user needs to authenticate when he/she installs the metapackage.</P><P><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Select the Font Book package in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Settings.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD>Choose <A HREF="Settings Pane.html#RootAuthorization" style="text-decoration:none">Root Authorization</A> from the Authorization pop-up menu.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Select the Additional Fonts package in the Packages & Metapackages list.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose View &gt; Settings.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Choose <A HREF="Settings Pane.html#RootAuthorization" style="text-decoration:none">Root Authorization</A> from the Authorization pop-up menu.</TD></TR></TABLE></P><B>Adding a welcome message</B><P>You are now going to add a Welcome message which will be displayed by </I>Installer</I> when you launch the installation procedure of the metapackage.</P><P><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Choose View &gt; Project.</TD></TR><TR VALIGN="TOP"><TD ALIGN="RIGHT"><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose View &gt; Components.</TD></TR><TR VALIGN="TOP"><TD ALIGN="right"><FONT SIZE="3" COLOR="#364AFF">3</FONT></TD><TD><P>With a text editor, create a text document and write a welcome message. Save this document in the metapackage project folder.</P><TABLE border="0" cellspacing="1" cellpadding="0" bgcolor="#A1A5A9"><TR><TD><TABLE CELLSPACING="0" CELLPADDING="10" WIDTH="100%"><TR BGCOLOR="#F3F3F3"><TD><FONT SIZE="2"><B>Note</B>: The text document format can be text, RTF, RTFd or HTML.</FONT></TD></TR></TABLE></TD></TR></TABLE></TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">4</FONT></TD><TD>Click the Path radio button of the <A HREF="Documents pane.html#2" style="text-decoration:none">Welcome</A> section.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">5</FONT></TD><TD>Choose Choose&#133; from the Action pop-up menu of the <A HREF="Documents pane.html#2" style="text-decoration:none">Welcome</A> section.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">6</FONT></TD><TD>Go to the metapackage project.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">7</FONT></TD><TD>Select the text document and click Choose.</TD></TR></TABLE></P><B>Building the metapackage</B><P><TABLE CELLPADDING="3"><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">1</FONT></TD><TD>Choose File &gt; Save.</TD></TR><TR VALIGN="TOP"><TD><FONT SIZE="3" COLOR="#364AFF">2</FONT></TD><TD>Choose Build &gt; Build.</TD></TR></TABLE></P><P>The <I>MyMetapackage.mpkg</I> will be created the <I>build</I> folder at the same level that the project document. Two packages named <I>Font Book.pkg</I> and <I>Additional Fonts.pkg</I> are created at the same level.</P><HR><FONT SIZE="2">Author: <I>St&eacute;phane Sudre</I></FONT></BODY></HTML>